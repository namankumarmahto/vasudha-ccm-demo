<!doctype html>
<html lang="en">
<head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Admin Dashboard</title><link rel="stylesheet" href="/css/auth-pro.css"><script type="module" src="/js/guard.js"></script>
</head>
<body style="background:#eef5ee;padding:20px" data-role="admin">
  <main style="max-width:1200px;margin:0 auto">
    <h1>Admin Dashboard</h1>
    <p>Welcome, admin. Use the approvals page to accept new users.</p>
    <nav style="display:flex;gap:12px">
      <a href="/admin/approvals.html" class="btn-pro" style="background:#fff;color:#2f6b3a;border:1px solid #d0e0d0">Pending Approvals</a>
      <a href="/admin/users.html" class="btn-pro">All Users</a>
    </nav>
  </main>

<script type="module">
  import { supabase } from '/js/auth.js';
  // simple client-side protection: check profile role and approved flag
  (async ()=> {
    try {
      const s = await (await fetch('/js/config.js').then(r=>r.text())) || null;
    } catch(e){}
  })();
</script>
</body>
</html>
